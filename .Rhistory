getwd()
#Ejercicio en clase
archivo <- ("C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Practica_4/datos-20231031T140954Z-001/datos/datos_u850.nc") #donde esta el archivo
nc<- nc_open(archivo) #abro el archivo netCDF
library(ncdf4) #cargo libreria ncdf4
nc<-nc_open(archivo) #abro el archivo netCDF
#Me quedo con las variables
comp_u_850<- ncvar_get(nc, "ua850") #extraer la variable
latitudes<- ncvar_get(nc, "lat")
longitudes<- ncvar_get(nc, "lon")
tiempos<- ncvar_get(nc, "time")
tiempos_legibles<- as.Date(tiempos,origin="1949-12-01 00:00:00")
head(tiempos_legibles) #miro los primeros tiempos
tail (tiempos_legibles) #miro los ultimos tiempos
longitudes
#selecciono donde esta la cuenca del plata  (38.75S-23.75S; 64.25O-51.25O)
long_cuenca<-which(longitudes %in% -64.25:-52.25 )
lat_cuenca<-which(latitudes %in% -38.75:-23.75)
datas<-array(data=NA,dim=c(13,16,6))
i<-1
for(anio in anios){
viento<-mean(comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos)==anio)])
datas[,,i]<-(viento)
i<-i+1
}
anios<-2005:2010
for(anio in anios){
viento<-mean(comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos)==anio)])
datas[,,i]<-(viento)
i<-i+1
}
#Ejercicio en clase
library(lubridate)
for(anio in anios){
viento<-mean(comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos)==anio)])
datas[,,i]<-(viento)
i<-i+1
}
for(anio in anios){
viento<-mean(comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos)==anio)])
print(viento)
datas[,,i]<-(viento)
i<-i+1
}
for(anio in anios){
viento<-mean(comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos)==anio)], na.rm=T)
#print(viento)
datas[,,i]<-(viento)
i<-i+1
}
tiempos_legibles
for(anio in anios){
viento<-comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos)==anio)]
datas[,,i]<-c(datas,viento)
i<-i+1
}
for(anio in anios){
viento<-comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos)==anio)]
promedio<-apply(viento,c(3), mean)
datas[,,i]<-(promedio)
i<-i+1
}
promedio<-apply(viento,c(1,2), mean)
datas[,,i]<-(promedio)
viento<-comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos_legibles)==anio)]
promedio<-apply(viento,c(1,2), mean)
datas[,,i]<-(promedio)
datas[,,i]<-(viento)
anios<-2005:2010
datas<-array(data=NA,dim=c(13,16,6))
i<-1
for(anio in anios){
viento<-comp_u_850[long_cuenca,lat_cuenca,which(year(tiempos_legibles)==anio)]
datas[,,i]<-(viento)
i<-i+1
}
tiempos_legibles
promedio<-apply(viento,c(3), mean)
promedio
promedio<-apply(viento,c(1,2), mean)
datas[,,i]<-(promedio)
promedio_df<-data.frame(anios,promedio)
promedio_df<-data.frame(promedio, nrows=anios)
promedio_df<-data.frame(promedio)
View(promedio_df)
prom_anuañ<-apply(viento,c(3),mean)
prom_anual<-apply(viento,c(3),mean)
promedio_df<-data.frame(promedio_anual)
promedio_df<-data.frame(prom_anual)
View(promedio_df)
prom_anual<-apply(datas,c(3),mean)
promedio_df<-data.frame(prom_anual)
View(promedio_df)
datas
View(promedio)
setwd("C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Tp_Final/")
require(ncdf4)  #llamo a la libreria que voy a necesitar
#abro el archivo
archivo<-nc_open("C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Tp_Final/daily_data_buenos_aires_province_1993-2023.nc")
archivo
# 4 dimen - variable lwe_precipitation_rate
pp<-ncvar_get(archivo,varid="precip") #array de dime 9 lon/8 lat / 9892 dias
pp[which(pp == -9999)]<-NA # veo el datos faltante en la informacion del archivo y lo reemplazo con NA
#1- tiempo cada dia desde 1970-01-01 00:00:00 0:00
tiempo<-ncvar_get(archivo,varid="time")
#2-longitud
lon<-ncvar_get(archivo,varid="longitude")
#3-latitud
lat<-ncvar_get(archivo,varid="latitude")
faltantes<-c()
for( i in 1:nrow(CORDOBA)){
falta<-sum(which(is.na(CORDOBA[i,])))
faltantes<-c(faltantes,falta)
}
###############################################################################
require(lubridate) #llamo a las librerias que voy a necesitar
tiempos_legibles<- as.Date(tiempo,origin="1970-01-01 00:00:00 0:00 ")
head(tiempos_legibles) #desde el 10/01/96 // se repite
tail(tiempos_legibles) #hasta el 31/07/23 #son 26 años y 7 meses
dias<-as.Date("1996/10/01"):as.Date("2023/07/31")
datas<-array(data=pp,dim=c(9,8,366,27))
media<-apply(datas,c(1,2,3),mean) #creo que es asi
desvio<-apply(datas,c(1,2,3),sd)
